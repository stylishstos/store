import {
    FETCH_PHONES,
    FETCH_PHONES_RESOLVE,
    FETCH_PHONES_REJECT
} from 'action-types';

import { fetchPhones as fetchPhonesApi } from 'api';

export const fetchPhones = () => async dispatch => {
    dispatch({ type: FETCH_PHONES });

    try {
        const phones = await fetchPhonesApi();
        dispatch({
            type: FETCH_PHONES_RESOLVE,
            payload: phones
        });
    } catch(err) {
        dispatch({
            type: FETCH_PHONES_REJECT,
            payload: err,
            error: true
        });
    }
}